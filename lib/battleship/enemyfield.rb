require "matrix"

class Enemy_Field
  def initialize
    fields = [
      [[2,0,0,0,0,0,0,0,0,0],
       [2,0,0,2,2,2,0,0,0,2],
       [2,0,0,0,0,0,0,2,0,2],
       [2,0,0,0,0,0,0,2,0,0],
       [0,0,0,2,2,2,0,0,0,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,0,0,0,0,2,0,0],
       [0,0,0,0,0,2,0,2,0,2],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,2,0,0,0,0,2,0]],
      [[0,0,0,0,0,0,0,0,0,0],
       [2,0,0,2,2,2,0,0,0,0],
       [2,0,0,0,0,0,0,2,0,0],
       [2,0,0,0,0,0,0,2,0,0],
       [2,0,0,2,2,2,0,0,0,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,2,0,0,0,0,2,0,0],
       [0,0,2,0,0,2,0,2,0,2],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,2,0,0,0,0,2,0]],
      [[0,0,0,0,0,0,0,0,0,0],
       [0,0,0,2,2,2,0,0,0,2],
       [2,0,0,0,0,0,0,0,0,2],
       [2,0,0,0,0,0,0,0,0,0],
       [2,0,0,2,2,2,0,0,0,0],
       [2,0,0,0,0,0,0,0,0,0],
       [0,0,2,0,0,0,0,2,0,0],
       [0,0,2,0,0,2,0,2,0,2],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,2,0,0,0,0,2,0]],
      [[0,2,0,0,2,0,0,0,0,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,2,2,2,0,2,0,2],
       [2,0,0,0,0,0,0,2,0,2],
       [2,0,0,2,2,2,0,0,0,0],
       [2,0,0,0,0,0,0,0,0,2],
       [2,0,2,0,0,0,0,0,0,0],
       [0,0,2,0,0,0,0,0,0,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,0,0,0,0,0,2,0]],
      [[0,2,0,0,2,0,0,0,0,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,2,2,2,0,2,0,2],
       [0,0,0,0,0,0,0,2,0,2],
       [0,0,2,2,2,2,0,0,0,0],
       [2,0,0,0,0,0,0,0,0,2],
       [2,0,0,0,0,0,0,0,0,0],
       [2,0,0,2,2,0,0,0,0,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,0,0,0,0,0,2,0]],
      [[0,2,0,0,2,0,0,0,0,2],
       [0,0,0,0,0,0,0,0,0,2],
       [0,2,2,2,0,0,0,2,0,0],
       [0,0,0,0,0,0,0,2,0,0],
       [0,0,0,2,2,2,0,0,0,0],
       [0,2,0,0,0,0,0,0,0,2],
       [0,2,0,0,0,0,0,0,0,0],
       [0,2,0,0,2,2,0,0,0,0],
       [0,2,0,0,0,0,0,0,0,0],
       [0,0,0,0,2,0,0,0,0,0]],
      [[0,0,0,2,0,0,0,0,0,0],
       [0,0,0,2,0,0,0,0,0,0],
       [0,0,0,2,0,0,0,0,0,0],
       [2,2,0,0,0,0,0,2,0,0],
       [0,0,0,0,0,0,0,2,0,0],
       [0,2,0,0,0,0,0,0,0,2],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,0,2,2,2,0,0,2],
       [2,2,0,0,0,0,0,0,0,0],
       [0,0,0,0,2,0,2,2,2,2]],
      [[2,0,0,2,0,0,0,0,0,0],
       [0,0,0,2,0,0,2,0,0,0],
       [0,0,0,2,0,0,0,0,0,0],
       [0,0,0,0,0,0,0,2,2,0],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,0,2,2,0,0,0,0],
       [2,0,0,0,0,0,0,0,0,2],
       [0,0,0,0,2,2,2,0,0,2],
       [2,2,0,0,0,0,0,0,0,2],
       [0,0,0,0,0,0,2,0,0,2]],
      [[0,0,0,2,0,0,0,0,0,0],
       [0,0,0,2,0,0,0,0,0,0],
       [0,0,0,2,0,2,0,0,0,0],
       [0,2,0,0,0,0,0,2,0,0],
       [0,2,0,0,0,0,0,2,0,0],
       [0,2,0,2,0,0,0,0,0,2],
       [0,0,0,0,0,0,0,0,0,0],
       [0,0,0,0,2,2,0,0,0,2],
       [2,0,0,0,0,0,0,0,0,0],
       [2,0,0,0,0,0,2,2,2,2]]
    ]
    f = fields.sample
    @field = Matrix[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9]]
    @field.transpose if rand(10) % 2 == 0
    @available_ships = [4, 3, 2, 1]
  end

  def field_getter
    @field
  end

  def field_setter(x,y,v)
    @field[x,y] = v
  end

  #def attack(x,y)

  #  if @field[x,y]==2
  #    @field[x,y]=0

  #  else
  #    return "Unfortunately you missed"
  #end

end
